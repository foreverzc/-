# CSS定位

## 一、定位

### 1.1为什么要使用定位

1. 浮动可以让多个块级盒子一行没有缝隙排列显示，经常用于横向排列盒子
2. 定位则是可以让盒子自由的在某个盒子内移动位置 或者 ==固定屏幕中的某个位置，并且可以压住其他盒子==

### 1.2 定位组成

==定位：将盒子定在某一个位置，所以定位也是在摆放盒子，按照定位的方式移动盒子==。

==定位=定位模式+边偏移==

#### 1.定位模式

1. 定位模式用于指定一个元素在文档中的定位方式。

2. 定位模式决定元素的定位方式，它通过css的position属性来设置，其值可以分为四个：

| 值       | 语义     |
| -------- | -------- |
| static   | 静态定位 |
| relative | 相对定位 |
| absolute | 绝对定位 |
| fixed    | 固定定位 |

#### 2.边偏移

1. 边偏移则决定了该元素的最终位置
2. 边偏移就是定位的盒子移动到最终位置，有top bottom left right4个属性  ==都是相对于父元素进行偏移==
3. 这四个属性只存在于定位中



### 1.3静态定位static（了解）

==静态定位是元素默认定位方式，无定位的意思==。

语法：

``` css
选择器{position：static;}
```

+ 静态定位是按照标准流的特性摆放位置的，它没有边偏移
+ 静态定位在布局时很少用到



### 1.4相对定位 relative（重要）

==相对定位==是元素在移动位置的时候，是相对==自身原来的位置==来说的(自恋型)。

语法：

``` css
选择器{position：relative;}
```

相对定位的特点：（务必记住)

1. ==它是相对自己原来的位置来移动的（移动位置的时候参照点是自己原来的位置）。==
2. ==原来在标准流的位置占有，后面的盒子仍然以标准流的方式对待它（不脱标，继续保留原来的位置==）
3. 相对定位并没有脱标。==它最典型的的应用是给绝对定位当爹的。。==



### 1.5绝对定位absolute（重要）

==绝对定位是元素在移动位置的时候，是相对于它祖先元素来说的==（拼爹型）

语法：

``` css
选择器：{position：absolute；}
```

绝对定位 特点：（务必记住）

1. 如果没有==祖先元素或者祖先元素没有定位==，则以浏览器为准定位（Document文档）
2. 如果祖先元素有定位(相对、绝地、固定定位)，则==以最近一级的有定位祖先元素==为参考点移动位置
3. ==绝对定位不再占有原来的位置 脱离标准流==



### 1.6子绝父相的由来

子级是绝对定位的话,父级要用相对定位

1. 子级绝对定位，不会占有位置，可以放到父盒子里面的任何一个地方，不会影响其他盒子。
2. 父盒子需要加定位限制子盒子在父盒子内显示。
3. 父盒子布局时，==需要占有位置，因此父亲只能是相对定位==。

这就是子绝父相的由来，所有相对定位经常用于绝对定位的父级。

总结：==因为父级需要占用位置，因此是相对定位，子盒子不需要占用位置，则是绝对定位==

当然 子绝父相不是永远不变，如果父元素不占用位置，子绝父绝也会遇到



### 1.7固定定位fixed（重要）

固定定位是元素==固定与浏览器于视区的位置==。主要使用场景：可以在浏览器页面滚动时元素的位置不会改变。

语法：

```css
选择器：{position：fixed；}
```



固定定位的特点：（务必记住）

1. 以==浏览器的可视窗口==为参照点移动元素
   + 跟父元素没有任何的关系
   + ==不随着滚动条滚动==                                                                                                
2. 固定定位并不占有原先的位置
   + 固定定位==也是脱标的==，其实固定定位也可以看做是一种特殊的绝对定位
3.   ==固定的盒子应该有宽度==

##### ==小技巧==

固定定位在版心右侧位置 

小算法：

1. 让固定定位的盒子 left：50% 走到浏览器可视区（也是版心的）的一半。
2. 让固定定位的盒子margin-left：版心宽度的一半距离。多走版心宽度的一半位置，就可以让固定定位的盒子贴着版心右侧对齐了==也可以用 transform：translate（-50%）==



### 1.8粘性定位sticky（了解）

粘性定位可以被认为是相对定位和固定定位的混合，Sticky定位

语法：

``` css
选择器:{position:sticky;
				top:10px;
			}
```

==粘性定位的特点==：

1. 以浏览器可视窗口为参照点移动元素（固定定位特点）

2. ==粘性定位占有原先的位置==（相对定位特点）

3. 必须添加top、left、right、bottom 其中一个才有效

   例如： 当添加粘性定位 当浏览器滑到 导航栏与可视窗口的 top=0时 才变成固定定位的特性

   
   
   ``` css
       <style>
           body {
               height: 3000px;
           }
   
           .nav {
               position: sticky;
               top: 0;
               width: 700px;
               height: 100px;
               background-color: pink;
               margin: 100px auto;
           }
       </style>
   </head>
   
   <body>
       <div class="nav">导航栏</div>
	</body> 	
   ```
   
   ### 1.9定位模式总结

| 定位模式             | 是否脱标             | 移动位置               | 是否常用     |
| -------------------- | -------------------- | ---------------------- | ------------ |
| static静态定位       | 否                   | 不能使用边偏移         | 很少         |
| ==relative相对定位== | ==否（占有位置）==   | ==相对于自身位置移动== | 常用         |
| ==absolute绝对定位== | ==是（不占有位置）== | ==带有定位的父级==     | 常用         |
| ==fixed固定定位==    | ==是（不占有位置）== | ==浏览器可视区==       | 常用         |
| sticky粘性定位       | 否（占有位置）       | 浏览器可视区           | 当前阶段可少 |

1. 一定记住 相对定位、固定定位、绝对定位 两个大特点：
   + 是否占有位置（脱标否）
   + 以谁为基准点移动位置
2. 学习定位重点学会子绝父相。

### 1.10定位的叠放次序z-index

在使用定位布局时，可能会出现盒子重叠的情况。此时，可以使用z-index来控制盒子的前后次序（z轴）

语法：

``` css
选择器：{z-index：1；}
```



+ 数值可以是正整数，负整数或0，默认是auto，数值越大，盒子越靠上
+ 如果属性值相同，则按照书写顺序，后来居上
+ 数字后面不能加单位
+ 只有定位的盒子才有z-index属性

### 1.11定位的拓展

#### 1.==绝对定位的盒子居中==

加了绝对定位的盒子==不能==通过margin：0 auto； 水平居中，但是可以通过一下计算方法实现水平和垂直居中

1. 水平居中
   1. left：50% ： 让盒子的左侧移动到父元素的水平中心位置
   2. margin-left：==-（盒子宽度的一半）==；让盒子向左移动自身宽度的一半
2. 垂直居中
   1. top：50%：让盒子的顶部移动到父元素的垂直中心位置
   2. margin-top：==-（盒子高度的一半）==让盒子向上移动自身的高度的一半

#### 2.定位的特殊性质

绝对定位和固定定位也和浮动类似 

==都变成了行内块元素但是 它是自由移动的==

1. 行内元素添加绝对或者固定定位，可以直接设置高度和宽度
2. 块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小是内容大小 就相当于变成了行内块元素 不在占用一行

#### 3.脱标的盒子不会触发外边距塌陷

浮动元素和绝对定位元素都不会发生外边距合并的问题

#### 4.绝地定位（固定定位）会完全压住盒子

+ ==浮动元素==之会压住下面的标准流的盒子，==但是不会压住下面标准流盒子里面的文字（图片）==
+ 绝对定位（固定定位）会压住下面的标准流所有的内容



#### 5.网页布局总结

通过盒子模型，可以知道大部分html标签是一个盒子

通过css浮动、定位可让每个盒子排列成网页。

一个完整的网页，是标准流 浮动 定位一起来完成布局的，每个都有自己的专门用法。

1. 标准流

   可以让盒子上下排列和左右排列，==垂直的块级盒子显示就用标准流==

2. 浮动

   可以让多个块级元素一行显示或者左右对齐盒子，==多个块级盒子水平显示就用浮动布局==

3. 定位

   定位最大的特点是层叠的 概念 就是 z轴的 优先级 ==如果元素自由的在某个盒子内移动就用定位布局==



#### 6.元素的显示与隐藏

让一个元素在页面中隐藏或者显示出来

1. display显示隐藏

   + ==隐藏对象（极其重要）==：==隐藏位置而且不再占用原来的位置==

     ``` css
     dispaly:none ;
     ```

   + 除了转换为块级元素之外，==还有显示元素的意思==

     ``` css
     display:block;
     ```

   + 

2. visibility显示隐藏

   + 元素可视

     ``` css
     visibility:visible;
     ```

   + 元素隐藏:隐藏元素后，==继续占有原来的位置==

     ``` css
     visibility:hidden;
     ```

3. overflow溢出显示隐藏

   + 溢出的部分隐藏
   
     ``` css
     overflow:hidden;
     ```
   
   + 溢出的部分显示滚动条 不溢出不显示滚动条
   
     ``` css
     overflow:sroll;
     ```
   
   + 溢出的时候才显示滚动条 不溢出不显示滚动条
   
     ``` css
     overflow:auto;
     ```
   
     
   
   | 属性值  | 描述                                     |
   | ------- | ---------------------------------------- |
   | visible | 不剪切内容也不添加滚动条                 |
   | hidden  | 不显示超出对象尺寸的内容，超出部分隐藏掉 |
   | scroll  | 不管超出内容 总是显示滚动条              |
   | auto    | 超出自动显示滚动条，不超出不显示滚动条   |
   
   ==如果有定位的盒子慎用 overflow:hidden 它会隐藏多余的部分==
   
   一般情况下，我们都不想让溢出内容显示出来，因为溢出的部分会影响布局

#### 7.淘宝轮播图（简单版 主看结构 用定位）

``` css
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>淘宝轮播图做法</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        li {
            list-style: none;
        }

        .tb-promo {
            position: relative;
            width: 520px;
            height: 280px;
            background-color: pink;
            margin: 100px auto;
        }

        .prev,
        .next {
            position: absolute;
            top: 50%;
            margin-top: -15px;
            width: 20px;
            height: 30px;
            background: rgba(0, 0, 0, .3);
            text-align: center;
            line-height: 30px;
            text-decoration: none;
            color: #fff;
        }

        .prev {
            position: absolute;
            left: 0;
            border-radius: 0 15px 15px 0;
        }

        .next {
            /* 如果一个盒子既有left属性也有right属性，则会默认执行left属性 同理会优先执行top值 */
            right: 0;
            border-radius: 15px 0 0 15px;
        }

        .promo-nav {
            position: absolute;
            bottom: 10px;
            left: 50%;
            margin-left: -35px;
            width: 70px;
            height: 13px;
            background-color: pink;
            background: rgba(255, 255, 255, .3);
            border-radius: 7px;
        }

        .promo-nav li {
            float: left;
            margin: 3px;
            width: 8px;
            height: 8px;
            background-color: #fff;
            border-radius: 50%;
        }

        .promo-nav .selected {
            background-color: #ff5000;
        }
    </style>
</head>

<body>
    <div class="tb-promo">
        <img src="tb.jpg" alt="">
        <!-- 左侧按钮 -->
        <a href="#" class="prev">&lt;</a>
        <!-- 右侧按钮 -->
        <a href="#" class="next">&gt;</a>
        <ul class="promo-nav">
            <li class="selected"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
</body>

</html>
```

















